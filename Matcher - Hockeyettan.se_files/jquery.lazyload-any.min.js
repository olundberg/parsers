/**
 * [jQuery-lazyload-any]{@link https://github.com/emn178/jquery-lazyload-any}
 *
 * @version 0.3.1
 * @author Yi-Cyuan Chen [emn178@gmail.com]
 * @copyright Yi-Cyuan Chen 2014-2016
 * @license MIT
 */
(function(n,t,i){function a(){var t=n(this);t.is(":visible")&&g(t)&&t.trigger(f)}function g(n){var t=n[0].getBoundingClientRect(),i=-n.data(r).threshold,u=i,f=v-u,e=y-i;return(t.top>=u&&t.top<=f||t.bottom>=u&&t.bottom<=f)&&(t.left>=i&&t.left<=e||t.right>=i&&t.right<=e)}function w(){v=t.innerHeight||i.documentElement.clientHeight;y=t.innerWidth||i.documentElement.clientWidth;u()}function u(){e=e.filter(s);this.nodeType==1?n(this).find(s).each(a):e.each(a)}function nt(){var t=n(this),e=t.data(r),i=t.data("lazyload"),o,f,u;i||(o=t.children().filter('script[type="text/lazyload"]').get(0),i=n(o).html());i||(f=t.contents().filter(function(){return this.nodeType===8}).get(0),i=f&&n.trim(f.data));u=d.html(i).contents();t.replaceWith(u);n.isFunction(e.load)&&e.load.call(u,u)}function b(){var t=n(this);tt(t)|it(t)&&(t.data(l)||(t.data(l,1),t.bind(f,k)))}function tt(n){if(n.data(h))return!1;var t=n.css("overflow");return t!="scroll"&&t!="auto"?!1:(n.data(h,1),n.bind("scroll",u),!0)}function it(n){if(!n.data(c)){var t=n.css("display");if(t=="none")return n.data(c,1),n._bindShow(u),!0}}function k(){var t=n(this);t.find(s).length===0&&(t.removeData(h).removeData(c).removeData(l),t.unbind("scroll",u).unbind(f,k)._unbindShow(u))}function rt(t){var i=t===undefined?e:n(t);i.each(function(){var t=n(this);t.is(s)&&t.parents().each(b)})}var r="jquery-lazyload-any",f="appear",o=r+"-"+f,s=":"+o,h=r+"-scroller",c=r+"-display",l=r+"-watch",d=n("<div/>"),v,y,p=!1,e=n();n.expr[":"][o]=function(t){return n(t).data(o)!==undefined};n.fn.lazyload=function(s){var h={threshold:0,trigger:f},c;return n.extend(h,s),c=h.trigger.split(" "),this.data(o,n.inArray(f,c)!=-1).data(r,h),this.bind(h.trigger,nt),this.each(a),this.parents().each(b),this.each(function(){e=e.add(this)}),p||(p=!0,w(),n(i).ready(function(){n(t).bind("resize",w).bind("scroll",u)})),this};n.lazyload={check:u,refresh:rt},function(){function h(){var i=n(this),r=i.css("display")!="none";i.data(t)!=r&&(i.data(t,r),r&&i.trigger(e))}function o(){f=f.filter(s);f.each(h);f.length===0&&(i=clearInterval(i))}var e="show",t=r+"-"+e,s=":"+t,u=50,i,f=n();n.expr[":"][t]=function(i){return n(i).data(t)!==undefined};n.fn._bindShow=function(n){this.bind(e,n);this.data(t,this.css("display")!="none");f=f.add(this);u&&!i&&(i=setInterval(o,u))};n.fn._unbindShow=function(n){this.unbind(e,n);this.removeData(t)};n.lazyload.setInterval=function(t){t==u||!n.isNumeric(t)||t<0||(u=t,i=clearInterval(i),u>0&&(i=setInterval(o,u)))}}()})(jQuery,window,document);